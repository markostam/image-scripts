# CONVERT PDFs INTO CONCATENATED JPGs

shopt -s extglob #enable external global (! = except)

for f in *; do 
  [ -d $f ] && cd "$f" && echo Entering into $f and converting pdf to jpg #walk through folders in current directory
  for i in `ls *.pdf`; do convert -density 300 "$i" "$i".jpg; rm "$i"; done #convert pdf to jpg
  convert +append *.jpg ${PWD##*/}.jpg && echo concatenating jpegs
  rm . !(${PWD##*/}.jpg)
  cd ..
done;

shopt -u extglob #disable external global (! = except)
